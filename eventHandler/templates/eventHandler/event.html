<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>{{ title }}</title>
</head>
<body>
<h1>Мероприятия</h1>
    <li><a href="{% url 'eventHandler:allEvents' %}">Посмотреть все мероприятия</a></li>
    <li><a href="{% url 'eventHandler:event' %}">Посмотреть мои мероприятия</a></li>
    <li><a href="{% url 'eventHandler:eventCreate' %}">Создать мероприятие</a></li>
    <li><a href="{% url 'eventHandler:SportTypeEventcreate' %}">Settings</a></li>
    <li><a href="{% url 'eventHandler:allSportsmans' %}">Все спортсмены</a></li>
    <li><a href="{% url 'eventHandler:mySportsmans' %}">Мои спортсмены</a></li>

<h3>Список мероприятий:</h3>
{% for event in events %}
    <div class='row border border-primary' style="width: 1000px" >
      <div class='col d-flex justify-content-center' style="height: 250px; width: 100px">
        {% if event.photo %}
            <img src="{{ MEDIA_URL }}{{ event.photo.url }}" class="img-fluid img-thumbnail" style="height: 250px">
        {% endif %}
      </div>
      <div class='col'>
        <h5>{{ event.name }}</h5>
        <p> Ограничения:
            {% if event.min_age > 0 and event.max_age == 120 %}
                от {{ event.min_age }} лет
            {% endif %}
            {% if event.min_age == 0 and event.max_age < 120 %}
                до {{ event.max_age }} лет
            {% endif %}

            {% if event.min_age == 0 and event.max_age == 120 %}
                Для всех возрастов
            {% endif %}
            {% if event.min_age > 0 and event.max_age < 120 %}
                {{ event.min_age }} - {{ event.max_age }} лет
            {% endif %}</p>
        <p>Время проведения:
        <p>Начало :
            {% with event.settings.all|dictsort:"date"|first as el %}
                {{ el.date }}
            {% endwith %}
        </p>
        <p>Конец:
            {% with event.settings.all|dictsort:"date"|last as el %}
                {{ el.date }}
            {% endwith %}
        </p>
        </p>
      </div>

      <div class='col'>
        <p>Виды спорта на соревновании:</p>
        {% for el in event.settings.all|dictsort:"date" %}
          <li>{{ el.sport_type.name }} ({{ el.sport_object.name}} )</li>
        {% endfor %}
      </div>
    </div>


{% endfor %}
</body>
</html>